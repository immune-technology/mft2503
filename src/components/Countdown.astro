<p id="countdown">
  <span id="days" class="text-4xl mb-5"></span>
  <span id="hours" class="text-4xl mb-5"></span>
  <span id="minutes" class="text-4xl mb-5"></span>
  <span id="seconds" class="text-4xl mb-5"></span>
  <button
    class="bg-red-600 py-2 px-4 cursor-pointer uppercase flex mx-auto mt-4"
    onclick="openFormModal()"
    type="button"
  >
    ¡Apúntate!
  </button>
</p>

<script is:inline>
  function updateCountdown() {
    // Establece la fecha objetivo.
    const now = new Date();
    // Mes (empieza en 0), día, hora, min
    const targetDate = new Date(now.getFullYear(), 10, 26, 9, 30);

    // Calcula la diferencia en milisegundos
    const diff = targetDate - now;

    // Convierte la diferencia en días, horas, minutos y segundos
    const days = Math.floor(diff / (1000 * 60 * 60 * 24));
    const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
    const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
    const seconds = Math.floor((diff % (1000 * 60)) / 1000);

    // Actualiza el HTML
    document.getElementById("days").innerHTML = days + "d : ";
    document.getElementById("hours").innerHTML = hours + "h : ";
    document.getElementById("minutes").innerHTML = minutes + "m : ";
    document.getElementById("seconds").innerHTML = seconds + "s";

    // Si el contador llega a 0, mostrar mensaje
    if (diff < 0) {
      clearInterval(interval);
      document.getElementById("countdown").innerHTML =
        'Enlaces a zoom: <a href="https://immune-institute.zoom.us/s/83508567015?from=join#success" target="_blank">Espacio 1</a>, <a href="https://zoom.us/s/82351579222?from=join#success" target="_blank">Espacio 2</a>, <a href="https://zoom.us/s/82351579222?from=join#success" target="_blank">Espacio 3</a> y <a href="https://zoom.us/s/82351579222?from=join#success" target="_blank">Espacio 4</a>';
    }
  }

  // Actualiza el contador cada segundo
  const interval = setInterval(updateCountdown, 1000);

  // Llama a la función inmediatamente para iniciar el contador
  updateCountdown();
</script>
